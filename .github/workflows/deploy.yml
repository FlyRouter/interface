name: deploy
on:
  workflow_dispatch:

permissions:
  id-token: write
  pages: write

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Build
        run: npm run deploy

      - name: Upload
        uses: actions/upload-pages-artifact@v3
        with:
          path: build

#      - name: Release
#        uses: softprops/action-gh-release@v2
#        with:
#          tag_name: latest
#          files: |
#            public/index.html
#            build/app.js

#      - name: Deploy
#        uses: actions/deploy-pages@v3

#      - name: Push
#        run: |
#          git checkout gh-pages
#          git remote set-url --push origin https://actions:$GITHUB_TOKEN@github.com/flyrouter/interface
#          git push -f origin gh-pages
